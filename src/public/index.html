<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç»¼åˆæ¡Œé¢åº”ç”¨ç¨‹åº - å‡‰å±±éç‰©è´¨æ–‡åŒ–é—äº§æ‰‹å·¥é¥¼ä¸ç¤¼å°šå¾€æ¥å¹³å°</title>
  
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Custom styles for the application -->
  <style>
    body {
      padding-top: 20px;
      padding-bottom: 40px;
      background-color: #f8f9fa;
    }
    
    .document-container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 8px;
      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
      overflow: hidden;
    }
    
    .header-section {
      background: linear-gradient(to right, #6a11cb, #2575fc);
      color: white;
      padding: 2rem 0;
      text-align: center;
    }
    
    .content-section {
      padding: 2rem;
    }
    
    /* Markdown content styling */
    .markdown-body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      line-height: 1.6;
    }
    
    .markdown-body h1,
    .markdown-body h2,
    .markdown-body h3,
    .markdown-body h4,
    .markdown-body h5,
    .markdown-body h6 {
      margin-top: 1.5em;
      margin-bottom: 0.5em;
      font-weight: 600;
      line-height: 1.25;
    }
    
    .markdown-body h1 {
      padding-bottom: 0.3em;
      font-size: 2em;
      border-bottom: 1px solid #eaecef;
    }
    
    .markdown-body h2 {
      padding-bottom: 0.3em;
      font-size: 1.5em;
      border-bottom: 1px solid #eaecef;
    }
    
    .markdown-body p {
      margin-top: 0;
      margin-bottom: 1em;
    }
    
    .markdown-body ul,
    .markdown-body ol {
      padding-left: 2em;
      margin-bottom: 1em;
    }
    
    .markdown-body li {
      margin-bottom: 0.25em;
    }
    
    .markdown-body blockquote {
      margin: 0 0 1em;
      padding: 0.5em 1em;
      color: #6a737d;
      border-left: 0.25em solid #dfe2e5;
      background-color: #f6f8fa;
    }
    
    .markdown-body pre {
      background-color: #f6f8fa;
      border-radius: 6px;
      padding: 16px;
      overflow: auto;
      font-size: 85%;
      line-height: 1.45;
    }
    
    .markdown-body code {
      padding: 0.2em 0.4em;
      margin: 0;
      font-size: 85%;
      background-color: rgba(27,31,35,0.05);
      border-radius: 6px;
    }
    
    .markdown-body table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1em;
    }
    
    .markdown-body th,
    .markdown-body td {
      padding: 6px 13px;
      border: 1px solid #dfe2e5;
    }
    
    .markdown-body th {
      background-color: #f6f8fa;
      font-weight: 600;
    }
    
    .navigation-toc {
      position: fixed;
      top: 20px;
      left: 20px;
      width: 250px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
      padding: 1.5rem;
      max-height: calc(100vh - 40px);
      overflow-y: auto;
      z-index: 100;
    }
    
    .toc-title {
      font-weight: bold;
      margin-bottom: 1rem;
      color: #2575fc;
      border-bottom: 1px solid #eee;
      padding-bottom: 0.5rem;
    }
    
    .toc-item {
      margin-bottom: 0.5rem;
    }
    
    .toc-link {
      text-decoration: none;
      color: #495057;
      display: block;
      padding: 0.25rem 0;
      transition: all 0.2s ease;
    }
    
    .toc-link:hover {
      color: #2575fc;
      padding-left: 0.5rem;
    }
    
    .app-selector {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 30px 0;
      flex-wrap: wrap;
    }
    
    .app-card {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      text-align: center;
      width: 250px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .app-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .btn {
      background-color: #ff6b6b;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px;
    }
    
    .btn:hover {
      background-color: #ff5252;
    }
    
    iframe {
      width: 100%;
      height: calc(100vh - 100px);
      border: none;
    }
    
    @media (max-width: 768px) {
      .navigation-toc {
        display: none;
      }
    
      .content-section {
        padding: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="container-fluid">
    <div class="document-container">
      <div class="header-section">
        <h1>ç»¼åˆæ¡Œé¢åº”ç”¨ç¨‹åº</h1>
        <p class="lead">å‡‰å±±éç‰©è´¨æ–‡åŒ–é—äº§æ‰‹å·¥é¥¼ä¸ç¤¼å°šå¾€æ¥å¹³å° - AIæ•°å­—äººå’¨è¯¢ã€å•†åŸç³»ç»Ÿã€ç§¯åˆ†åˆ†é”€</p>
      </div>
      
      <div class="row">
        <nav class="col-md-3 navigation-toc d-none d-md-block">
          <div class="toc-title">åº”ç”¨é€‰æ‹©</div>
          <div id="toc-content">
            <div class="app-selector">
              <div class="app-card" onclick="showApp('main')">
                <h3>ğŸ“š æ–‡æ¡£æŸ¥çœ‹</h3>
                <p>éé—æ–‡åŒ–ä¼ æ‰¿æ–‡æ¡£<br/>ç”µå•†å¹³å°è¿è¥æŒ‡å—</p>
                <button class="btn">å¯åŠ¨</button>
              </div>
              
              <div class="app-card" onclick="showApp('taro')">
                <h3>ğŸ ç¤¼å“å…‘æ¢å¹³å°</h3>
                <p>AIæ•°å­—äººå’¨è¯¢<br/>å•†åŸç³»ç»Ÿ</p>
                <button class="btn">å¯åŠ¨</button>
              </div>
              
              <div class="app-card" onclick="showApp('capacitor')">
                <h3>ğŸ“± ç§»åŠ¨åº”ç”¨ç‰ˆ</h3>
                <p>æ”¯ä»˜é›†æˆ<br/>ç›¸æœºåŠŸèƒ½</p>
                <button class="btn">å¯åŠ¨</button>
              </div>
            </div>
          </div>
        </nav>
        
        <main class="col-md-9 col-lg-10 px-4 content-section">
          <div id="content" class="markdown-body">
            <div class="text-center">
              <h2>æ¬¢è¿ä½¿ç”¨ç»¼åˆæ¡Œé¢åº”ç”¨ç¨‹åº</h2>
              <p>è¿™æ˜¯ä¸€ä¸ªé›†æˆäº†å¤šç§åŠŸèƒ½çš„ç»¼åˆå¹³å°ï¼ŒåŒ…å«ç”µå•†ã€å¿ƒç†å’¨è¯¢ã€ç§¯åˆ†ç³»ç»Ÿç­‰å¤šç§æœåŠ¡ã€‚</p>
              
              <div class="app-selector">
                <div class="app-card" onclick="showApp('main')">
                  <h3>ğŸ“š æ–‡æ¡£æŸ¥çœ‹</h3>
                  <p>éé—æ–‡åŒ–ä¼ æ‰¿æ–‡æ¡£<br/>ç”µå•†å¹³å°è¿è¥æŒ‡å—</p>
                  <button class="btn">å¯åŠ¨</button>
                </div>
                
                <div class="app-card" onclick="showApp('taro')">
                  <h3>ğŸ ç¤¼å“å…‘æ¢å¹³å°</h3>
                  <p>AIæ•°å­—äººå’¨è¯¢<br/>å•†åŸç³»ç»Ÿ</p>
                  <button class="btn">å¯åŠ¨</button>
                </div>
                
                <div class="app-card" onclick="showApp('capacitor')">
                  <h3>ğŸ“± ç§»åŠ¨åº”ç”¨ç‰ˆ</h3>
                  <p>æ”¯ä»˜é›†æˆ<br/>ç›¸æœºåŠŸèƒ½</p>
                  <button class="btn">å¯åŠ¨</button>
                </div>
              </div>
            </div>
          </div>
          
          <div id="subAppContainer" style="display:none;"></div>
        </main>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Digital Human AI Module -->
  <script src="../src/ai/digital-human.js"></script>
  
  <!-- Main renderer script -->
  <script src="../renderer.js"></script>
  
  <script>
    // Function to show different apps
    function showApp(appType) {
      const contentDiv = document.getElementById('content');
      const subAppContainer = document.getElementById('subAppContainer');
      
      if (appType === 'main') {
        // Show main documentation view
        contentDiv.style.display = 'block';
        subAppContainer.style.display = 'none';
        subAppContainer.innerHTML = '';
        
        // Reload main content
        document.querySelector('.text-center').innerHTML = `
          <div class="text-center">
            <div class="spinner-border" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
            <p>æ­£åœ¨åŠ è½½æ–‡æ¡£å†…å®¹...</p>
          </div>
        `;
        
        // Load markdown content after a short delay
        setTimeout(() => {
          loadMarkdownContent();
        }, 1000);
      } else if (appType === 'taro') {
        // Show Taro app (Gift Exchange Platform)
        contentDiv.style.display = 'none';
        subAppContainer.innerHTML = `
          <iframe src="../taro-app/pages/index/index.html" id="taroFrame"></iframe>
        `;
        subAppContainer.style.display = 'block';
      } else if (appType === 'capacitor') {
        // Show Capacitor app (Mobile App Version)
        contentDiv.style.display = 'none';
        subAppContainer.innerHTML = `
          <iframe src="../capacitor-app/www/index.html" id="capacitorFrame"></iframe>
        `;
        subAppContainer.style.display = 'block';
      }
    }
    
    // Function to go back to main view
    function goBack() {
      const contentDiv = document.getElementById('content');
      const subAppContainer = document.getElementById('subAppContainer');
      
      contentDiv.style.display = 'block';
      subAppContainer.style.display = 'none';
      subAppContainer.innerHTML = '';
    }
    
    // Generate table of contents after document is loaded
    document.addEventListener('DOMContentLoaded', function() {
      const contentDiv = document.getElementById('content');
      
      // Wait a bit for content to load from renderer.js
      setTimeout(() => {
        generateTableOfContents(contentDiv.innerHTML);
      }, 1000);
    });
    
    function generateTableOfContents(htmlContent) {
      // Parse HTML to extract headings
      const parser = new DOMParser();
      const doc = parser.parseFromString(htmlContent, 'text/html');
      
      const headings = doc.querySelectorAll('h1, h2, h3, h4, h5, h6');
      const tocContainer = document.getElementById('toc-content');
      
      if (headings.length === 0) {
        tocContainer.innerHTML = '<p>æš‚æ— ç›®å½•é¡¹</p>';
        return;
      }
      
      let tocHTML = '';
      headings.forEach((heading, index) => {
        const level = parseInt(heading.tagName.charAt(1)); // Extract number from H1, H2, etc.
        const text = heading.textContent.trim();
        const id = `section-${index}`;
        
        // Set ID for the heading to enable linking
        heading.id = id;
        
        // Indent based on heading level
        const indent = (level - 1) * 15; // pixels
        
        tocHTML += `
          <div class="toc-item" style="margin-left: ${indent}px;">
            <a href="#${id}" class="toc-link" onclick="scrollToSection('${id}')">
              ${text}
            </a>
          </div>
        `;
      });
      
      tocContainer.innerHTML = tocHTML;
    }
    
    function scrollToSection(id) {
      const element = document.getElementById(id);
      if (element) {
        element.scrollIntoView({ behavior: 'smooth' });
      }
    }
    
    // Initialize the main documentation view
    function loadMarkdownContent() {
      // This will be handled by renderer.js which communicates with main process
      console.log('Initializing documentation viewer...');
    }
  </script>
</body>
</html>